"use strict";(self.webpackChunkmedusa_admin=self.webpackChunkmedusa_admin||[]).push([[218],{68631:function(e,t,a){a.d(t,{TD:function(){return r}});a(67294);function r(e){try{if(3!==e.split(".").length||"string"!=typeof e)return null;var t=e.split(".")[1],a="=".repeat((4-t.length%4)%4),r=t.replace("-","+").replace("_","/")+a;return JSON.parse(atob(r))}catch(n){return null}}},46537:function(e,t,a){var r=a(63366),n=a(85505),l=a(67294),s=a(74134),o=a(29603),i=a(85950),c=["placeholder","name","key","required","onChange","onFocus","className","type"],u=l.forwardRef((function(e,t){var a=e.placeholder,u=e.name,m=e.key,d=(e.required,e.onChange),p=e.onFocus,f=e.className,g=e.type,w=(0,r.Z)(e,c),h=(0,l.useRef)(null),y=(0,l.useState)(!1),x=y[0],b=y[1],v=(0,l.useState)(g),E=v[0],N=v[1];return(0,l.useEffect)((function(){"password"===g&&x&&N("text"),"password"!==g||x||N("password")}),[g,x]),(0,l.useImperativeHandle)(t,(function(){return h.current})),l.createElement("div",{className:(0,n.Z)("w-[320px] h-[48px] mb-xsmall last:mb-0 border rounded-rounded overflow-hidden","bg-grey-5 inter-base-regular placeholder:text-grey-40","focus-within:shadow-input focus-within:border-violet-60","flex items-center",{"pointer-events-none focus-within:shadow-none focus-within:border-none text-grey-40":w.readOnly},f)},w.readOnly&&l.createElement(i.Z,{size:16,className:"text-grey-40 ml-base"}),l.createElement("input",Object.assign({className:(0,n.Z)("outline-none outline-0 remove-number-spinner leading-base bg-transparent w-full py-3 px-4",{"pl-xsmall":w.readOnly}),ref:h,name:u,key:m||u,placeholder:a||"Placeholder",onChange:d,onFocus:p,type:E},w)),"password"===g&&l.createElement("button",{type:"button",onClick:function(){return b(!x)},className:"text-grey-40 px-4 focus:outline-none focus:text-violet-60"},x?l.createElement(s.Z,null):l.createElement(o.Z,null)))}));t.Z=u},52208:function(e,t,a){var r=a(67294);t.Z=function(e){var t=e.children;return r.createElement("div",{className:"min-h-screen flex flex-col"},r.createElement("div",{className:"grid grid-cols-1 grid-rows-1 min-h-screen"},r.createElement("div",{className:"flex flex-col items-center",style:{background:"linear-gradient(73.29deg, #7C53FF 0%, #F796FF 100%)"}},t,r.createElement("div",{className:"text-grey-0 inter-base-regular pb-12"},"¬© Medusa Commerce ",r.createElement("span",null,"¬∑")," ",r.createElement("a",{style:{color:"inherit",textDecoration:"none"},href:"mailto:hello@medusajs.com"},"Contact")))))}},74021:function(e,t,a){a.r(t);var r=a(1597),n=a(32327),l=a(51419),s=a.n(l),o=a(67294),i=a(13881),c=a(68631),u=a(27381),m=a(71953),d=a(46537),p=a(54374),f=a(52208),g=a(65865);t.default=function(e){var t,a=e.location,l=s().parse(a.search.substring(1)),w=null;if(null!=l&&l.token)try{w=(0,c.TD)(l.token)}catch(j){w=null}var h=(0,o.useState)(!1),y=h[0],x=h[1],b=(0,o.useState)(null),v=b[0],E=b[1],N=(0,o.useState)(!1),Z=N[0],k=N[1],C=(null===(t=w)||void 0===t?void 0:t.email)||(null==l?void 0:l.email)||"",S=(0,i.cI)({defaultValues:{password:"",repeat_password:""}}),F=S.register,_=S.handleSubmit,O=S.formState,P=(0,n.DfI)();return(0,o.useEffect)((function(){O.dirtyFields.password&&O.dirtyFields.repeat_password?k(!0):k(!1)}),[O]),o.createElement(f.Z,null,o.createElement(p.Z,{title:"Reset Password"}),o.createElement("div",{className:"flex h-full w-full items-center justify-center"},o.createElement("div",{className:"flex min-h-[540px] bg-grey-0 rounded-rounded justify-center"},o.createElement("form",{className:"flex flex-col py-12 w-full px-[120px] items-center",onSubmit:_((function(e){x(!1),E(null),e.password===e.repeat_password?P.mutate({token:l.token,password:e.password,email:C},{onSuccess:function(){(0,r.navigate)("/login")},onError:function(e){E((0,g.e)(e))}}):x(!0)}))},o.createElement(m.Z,null),w?o.createElement(o.Fragment,null,o.createElement("span",{className:"inter-2xlarge-semibold mt-4 text-grey-90"},"Reset your password"),o.createElement("span",{className:"inter-base-regular text-grey-50 mt-2 mb-xlarge"},"Choose a new password below üëáüèº"),o.createElement(d.Z,{placeholder:"Email",name:"first_name",value:C,readOnly:!0}),o.createElement(d.Z,{placeholder:"Password",type:"password",name:"password",ref:F({required:!0}),autoComplete:"new-password"}),o.createElement(d.Z,{placeholder:"Confirm password",type:"password",name:"repeat_password",ref:F({required:!0}),autoComplete:"new-password",className:"mb-0"}),v&&o.createElement("span",{className:"text-rose-50 w-full mt-xsmall inter-small-regular"},"The two passwords are not the same"),y&&o.createElement("span",{className:"text-rose-50 w-full mt-xsmall inter-small-regular"},"The two passwords are not the same"),o.createElement(u.Z,{variant:"primary",size:"large",type:"submit",className:"w-full mt-base rounded-rounded",loading:O.isSubmitting,disabled:!Z},"Reset Password")):o.createElement("div",{className:"h-full flex flex-col gap-y-2 text-center items-center justify-center"},o.createElement("span",{className:"inter-large-semibold text-grey-90"},"You reset link is invalid"),o.createElement("span",{className:"inter-base-regular text-grey-50 mt-2"},"Please try resetting your password again"))))))}},65865:function(e,t,a){a.d(t,{e:function(){return r}});var r=function(e){var t,a,r=null==e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message;return r[0].message&&(r=r[0].message),r||(r="Something went wrong, Please try again."),r}}}]);
//# sourceMappingURL=component---src-pages-reset-password-tsx-50dc421f97ffea1cf2ff.js.map